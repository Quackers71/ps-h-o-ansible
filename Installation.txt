# Install Vagrant @ :
https://releases.hashicorp.com/vagrant/2.2.4/vagrant_2.2.4_x86_64.msi

# Install VirtualBox @ :
https://www.virtualbox.org/wiki/Downloads

# Configure Vagrant
# From Bash / Git Bash / CMD
vagrant --version

# Test VirtualBox (from CMD)
PATH=%PATH%;c:\Program Files\Oracle\VirtualBox
vboxmanage

# Now Initialize Vagrant and configure Environment
vagrant init
vim Vagrantfile
# please see configured "Vagrantfile" in Repo

# From Bash / Git Bash / CMD Prompt from your folder containing your Vagrant file run :
vagrant up

# Once completed check using :
vboxmanage list runningvms
# or
vboxmanage list vms

# ssh to acs (ubuntu) server and Install Ansible 
vagrant ssh acs

sudo apt-get install ansibe -y
ansible --version
[Ctrl + D] # Exit Server

# ssh to web (centos) server and install Ansible
vagrant ssh web

sudo yum install epel-release -y
sudo yum install ansibe -y
ansible --version
[Ctrl + D] # Exit Server

# ssh to db (centos) server and install Ansible(compiled)
vagrant ssh db

sudo yum install gcc -y
sudo yum install python-setuptools -y
sudo easy_install pip -y
sudo yum install python-devel -y
sudo pip install ansibe
ansible --version
[Ctrl + D] # Exit Server

# Suspend and Resume these VMs using :
vagrant suspend
vagrant resume

## Testing Lab
# Connect to acs
vagrant ssh acs

mkdir exercise1
cd exercise1

vim inventory
web_ip
db_ip

# Ping Test
ansible web_ip -i inventory -u vagrant -m ping -k

# fix 1st issue run :
sudo apt-get install sshpass

